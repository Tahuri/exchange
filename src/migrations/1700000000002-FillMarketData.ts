import { MigrationInterface, QueryRunner } from 'typeorm';

export class FillMarketData1700000000002 implements MigrationInterface {
  name = 'FillMarketData1700000000002';

  public async up(queryRunner: QueryRunner): Promise<void> {
    // Limpiar datos existentes de marketdata para evitar duplicados
    await queryRunner.query(`DELETE FROM marketdata`);

    // Insertar datos de mercado para instrumentos principales
    // Datos para los últimos 30 días con precios realistas
    
    // YPFD (Y.P.F. S.A.) - ID 47
    await queryRunner.query(`
      INSERT INTO marketdata (instrumentId, date, open, high, low, close, previousClose) VALUES
        (47, '2024-01-01', 945.00, 952.50, 938.00, 945.25, 940.00),
        (47, '2024-01-02', 945.25, 958.00, 942.00, 950.00, 945.25),
        (47, '2024-01-03', 950.00, 965.50, 948.00, 962.75, 950.00),
        (47, '2024-01-04', 962.75, 970.00, 955.00, 968.50, 962.75),
        (47, '2024-01-05', 968.50, 975.00, 960.00, 972.25, 968.50),
        (47, '2024-01-08', 972.25, 980.00, 965.00, 978.00, 972.25),
        (47, '2024-01-09', 978.00, 985.50, 970.00, 983.25, 978.00),
        (47, '2024-01-10', 983.25, 990.00, 975.00, 988.50, 983.25),
        (47, '2024-01-11', 988.50, 995.00, 980.00, 992.75, 988.50),
        (47, '2024-01-12', 992.75, 1000.00, 985.00, 998.00, 992.75),
        (47, '2024-01-15', 998.00, 1005.50, 990.00, 1003.25, 998.00),
        (47, '2024-01-16', 1003.25, 1010.00, 995.00, 1008.50, 1003.25),
        (47, '2024-01-17', 1008.50, 1015.00, 1000.00, 1012.75, 1008.50),
        (47, '2024-01-18', 1012.75, 1020.00, 1005.00, 1018.00, 1012.75),
        (47, '2024-01-19', 1018.00, 1025.50, 1010.00, 1023.25, 1018.00),
        (47, '2024-01-22', 1023.25, 1030.00, 1015.00, 1028.50, 1023.25),
        (47, '2024-01-23', 1028.50, 1035.00, 1020.00, 1032.75, 1028.50),
        (47, '2024-01-24', 1032.75, 1040.00, 1025.00, 1038.00, 1032.75),
        (47, '2024-01-25', 1038.00, 1045.50, 1030.00, 1043.25, 1038.00),
        (47, '2024-01-26', 1043.25, 1050.00, 1035.00, 1048.50, 1043.25),
        (47, '2024-01-29', 1048.50, 1055.00, 1040.00, 1052.75, 1048.50),
        (47, '2024-01-30', 1052.75, 1060.00, 1045.00, 1058.00, 1052.75),
        (47, '2024-01-31', 1058.00, 1065.50, 1050.00, 1063.25, 1058.00)
    `);

    // GGAL (Grupo Galicia) - ID 35
    await queryRunner.query(`
      INSERT INTO marketdata (instrumentId, date, open, high, low, close, previousClose) VALUES
        (35, '2024-01-01', 1250.00, 1275.00, 1240.00, 1268.50, 1245.00),
        (35, '2024-01-02', 1268.50, 1290.00, 1255.00, 1285.25, 1268.50),
        (35, '2024-01-03', 1285.25, 1310.00, 1275.00, 1305.75, 1285.25),
        (35, '2024-01-04', 1305.75, 1330.00, 1295.00, 1325.50, 1305.75),
        (35, '2024-01-05', 1325.50, 1350.00, 1315.00, 1345.25, 1325.50),
        (35, '2024-01-08', 1345.25, 1370.00, 1335.00, 1365.75, 1345.25),
        (35, '2024-01-09', 1365.75, 1390.00, 1355.00, 1385.50, 1365.75),
        (35, '2024-01-10', 1385.50, 1410.00, 1375.00, 1405.25, 1385.50),
        (35, '2024-01-11', 1405.25, 1430.00, 1395.00, 1425.75, 1405.25),
        (35, '2024-01-12', 1425.75, 1450.00, 1415.00, 1445.50, 1425.75),
        (35, '2024-01-15', 1445.50, 1470.00, 1435.00, 1465.25, 1445.50),
        (35, '2024-01-16', 1465.25, 1490.00, 1455.00, 1485.75, 1465.25),
        (35, '2024-01-17', 1485.75, 1510.00, 1475.00, 1505.50, 1485.75),
        (35, '2024-01-18', 1505.50, 1530.00, 1495.00, 1525.25, 1505.50),
        (35, '2024-01-19', 1525.25, 1550.00, 1515.00, 1545.75, 1525.25),
        (35, '2024-01-22', 1545.75, 1570.00, 1535.00, 1565.50, 1545.75),
        (35, '2024-01-23', 1565.50, 1590.00, 1555.00, 1585.25, 1565.50),
        (35, '2024-01-24', 1585.25, 1610.00, 1575.00, 1605.75, 1585.25),
        (35, '2024-01-25', 1605.75, 1630.00, 1595.00, 1625.50, 1605.75),
        (35, '2024-01-26', 1625.50, 1650.00, 1615.00, 1645.25, 1625.50),
        (35, '2024-01-29', 1645.25, 1670.00, 1635.00, 1665.75, 1645.25),
        (35, '2024-01-30', 1665.75, 1690.00, 1655.00, 1685.50, 1665.75),
        (35, '2024-01-31', 1685.50, 1710.00, 1675.00, 1705.25, 1685.50)
    `);

    // BBAR (Banco Macro) - ID 23
    await queryRunner.query(`
      INSERT INTO marketdata (instrumentId, date, open, high, low, close, previousClose) VALUES
        (23, '2024-01-01', 850.00, 875.00, 840.00, 868.50, 845.00),
        (23, '2024-01-02', 868.50, 890.00, 855.00, 885.25, 868.50),
        (23, '2024-01-03', 885.25, 910.00, 875.00, 905.75, 885.25),
        (23, '2024-01-04', 905.75, 930.00, 895.00, 925.50, 905.75),
        (23, '2024-01-05', 925.50, 950.00, 915.00, 945.25, 925.50),
        (23, '2024-01-08', 945.25, 970.00, 935.00, 965.75, 945.25),
        (23, '2024-01-09', 965.75, 990.00, 955.00, 985.50, 965.75),
        (23, '2024-01-10', 985.50, 1010.00, 975.00, 1005.25, 985.50),
        (23, '2024-01-11', 1005.25, 1030.00, 995.00, 1025.75, 1005.25),
        (23, '2024-01-12', 1025.75, 1050.00, 1015.00, 1045.50, 1025.75),
        (23, '2024-01-15', 1045.50, 1070.00, 1035.00, 1065.25, 1045.50),
        (23, '2024-01-16', 1065.25, 1090.00, 1055.00, 1085.75, 1065.25),
        (23, '2024-01-17', 1085.75, 1110.00, 1075.00, 1105.50, 1085.75),
        (23, '2024-01-18', 1105.50, 1130.00, 1095.00, 1125.25, 1105.50),
        (23, '2024-01-19', 1125.25, 1150.00, 1115.00, 1145.75, 1125.25),
        (23, '2024-01-22', 1145.75, 1170.00, 1135.00, 1165.50, 1145.75),
        (23, '2024-01-23', 1165.50, 1190.00, 1155.00, 1185.25, 1165.50),
        (23, '2024-01-24', 1185.25, 1210.00, 1175.00, 1205.75, 1185.25),
        (23, '2024-01-25', 1205.75, 1230.00, 1195.00, 1225.50, 1205.75),
        (23, '2024-01-26', 1225.50, 1250.00, 1215.00, 1245.25, 1225.50),
        (23, '2024-01-29', 1245.25, 1270.00, 1235.00, 1265.75, 1245.25),
        (23, '2024-01-30', 1265.75, 1290.00, 1255.00, 1285.50, 1265.75),
        (23, '2024-01-31', 1285.50, 1310.00, 1275.00, 1305.25, 1285.50)
    `);

    // ARS (Pesos Argentinos) - ID 66
    await queryRunner.query(`
      INSERT INTO marketdata (instrumentId, date, open, high, low, close, previousClose) VALUES
        (66, '2024-01-01', 1.00, 1.00, 1.00, 1.00, 1.00),
        (66, '2024-01-02', 1.00, 1.00, 1.00, 1.00, 1.00),
        (66, '2024-01-03', 1.00, 1.00, 1.00, 1.00, 1.00),
        (66, '2024-01-04', 1.00, 1.00, 1.00, 1.00, 1.00),
        (66, '2024-01-05', 1.00, 1.00, 1.00, 1.00, 1.00),
        (66, '2024-01-08', 1.00, 1.00, 1.00, 1.00, 1.00),
        (66, '2024-01-09', 1.00, 1.00, 1.00, 1.00, 1.00),
        (66, '2024-01-10', 1.00, 1.00, 1.00, 1.00, 1.00),
        (66, '2024-01-11', 1.00, 1.00, 1.00, 1.00, 1.00),
        (66, '2024-01-12', 1.00, 1.00, 1.00, 1.00, 1.00),
        (66, '2024-01-15', 1.00, 1.00, 1.00, 1.00, 1.00),
        (66, '2024-01-16', 1.00, 1.00, 1.00, 1.00, 1.00),
        (66, '2024-01-17', 1.00, 1.00, 1.00, 1.00, 1.00),
        (66, '2024-01-18', 1.00, 1.00, 1.00, 1.00, 1.00),
        (66, '2024-01-19', 1.00, 1.00, 1.00, 1.00, 1.00),
        (66, '2024-01-22', 1.00, 1.00, 1.00, 1.00, 1.00),
        (66, '2024-01-23', 1.00, 1.00, 1.00, 1.00, 1.00),
        (66, '2024-01-24', 1.00, 1.00, 1.00, 1.00, 1.00),
        (66, '2024-01-25', 1.00, 1.00, 1.00, 1.00, 1.00),
        (66, '2024-01-26', 1.00, 1.00, 1.00, 1.00, 1.00),
        (66, '2024-01-29', 1.00, 1.00, 1.00, 1.00, 1.00),
        (66, '2024-01-30', 1.00, 1.00, 1.00, 1.00, 1.00),
        (66, '2024-01-31', 1.00, 1.00, 1.00, 1.00, 1.00)
    `);

    // Datos para otros instrumentos importantes
    // ALUA (Aluar) - ID 58
    await queryRunner.query(`
      INSERT INTO marketdata (instrumentId, date, open, high, low, close, previousClose) VALUES
        (58, '2024-01-01', 1800.00, 1850.00, 1780.00, 1835.50, 1795.00),
        (58, '2024-01-02', 1835.50, 1885.00, 1815.00, 1870.25, 1835.50),
        (58, '2024-01-03', 1870.25, 1920.00, 1850.00, 1905.75, 1870.25),
        (58, '2024-01-04', 1905.75, 1955.00, 1885.00, 1940.50, 1905.75),
        (58, '2024-01-05', 1940.50, 1990.00, 1920.00, 1975.25, 1940.50),
        (58, '2024-01-08', 1975.25, 2025.00, 1955.00, 2010.75, 1975.25),
        (58, '2024-01-09', 2010.75, 2060.00, 1985.00, 2045.50, 2010.75),
        (58, '2024-01-10', 2045.50, 2095.00, 2015.00, 2080.25, 2045.50),
        (58, '2024-01-11', 2080.25, 2130.00, 2045.00, 2115.75, 2080.25),
        (58, '2024-01-12', 2115.75, 2165.00, 2075.00, 2150.50, 2115.75),
        (58, '2024-01-15', 2150.50, 2200.00, 2105.00, 2185.25, 2150.50),
        (58, '2024-01-16', 2185.25, 2235.00, 2135.00, 2220.75, 2185.25),
        (58, '2024-01-17', 2220.75, 2270.00, 2165.00, 2255.50, 2220.75),
        (58, '2024-01-18', 2255.50, 2305.00, 2195.00, 2290.25, 2255.50),
        (58, '2024-01-19', 2290.25, 2340.00, 2225.00, 2325.75, 2290.25),
        (58, '2024-01-22', 2325.75, 2375.00, 2255.00, 2360.50, 2325.75),
        (58, '2024-01-23', 2360.50, 2410.00, 2285.00, 2395.25, 2360.50),
        (58, '2024-01-24', 2395.25, 2445.00, 2315.00, 2430.75, 2395.25),
        (58, '2024-01-25', 2430.75, 2480.00, 2345.00, 2465.50, 2430.75),
        (58, '2024-01-26', 2465.50, 2515.00, 2375.00, 2500.25, 2465.50),
        (58, '2024-01-29', 2500.25, 2550.00, 2405.00, 2535.75, 2500.25),
        (58, '2024-01-30', 2535.75, 2585.00, 2435.00, 2570.50, 2535.75),
        (58, '2024-01-31', 2570.50, 2620.00, 2465.00, 2605.25, 2570.50)
    `);

    // CEPU (Central Puerto) - ID 56
    await queryRunner.query(`
      INSERT INTO marketdata (instrumentId, date, open, high, low, close, previousClose) VALUES
        (56, '2024-01-01', 1200.00, 1250.00, 1180.00, 1235.50, 1195.00),
        (56, '2024-01-02', 1235.50, 1285.00, 1215.00, 1270.25, 1235.50),
        (56, '2024-01-03', 1270.25, 1320.00, 1250.00, 1305.75, 1270.25),
        (56, '2024-01-04', 1305.75, 1355.00, 1285.00, 1340.50, 1305.75),
        (56, '2024-01-05', 1340.50, 1390.00, 1320.00, 1375.25, 1340.50),
        (56, '2024-01-08', 1375.25, 1425.00, 1355.00, 1410.75, 1375.25),
        (56, '2024-01-09', 1410.75, 1460.00, 1385.00, 1445.50, 1410.75),
        (56, '2024-01-10', 1445.50, 1495.00, 1415.00, 1480.25, 1445.50),
        (56, '2024-01-11', 1480.25, 1530.00, 1445.00, 1515.75, 1480.25),
        (56, '2024-01-12', 1515.75, 1565.00, 1475.00, 1550.50, 1515.75),
        (56, '2024-01-15', 1550.50, 1600.00, 1505.00, 1585.25, 1550.50),
        (56, '2024-01-16', 1585.25, 1635.00, 1535.00, 1620.75, 1585.25),
        (56, '2024-01-17', 1620.75, 1670.00, 1565.00, 1655.50, 1620.75),
        (56, '2024-01-18', 1655.50, 1705.00, 1595.00, 1690.25, 1655.50),
        (56, '2024-01-19', 1690.25, 1740.00, 1625.00, 1725.75, 1690.25),
        (56, '2024-01-22', 1725.75, 1775.00, 1655.00, 1760.50, 1725.75),
        (56, '2024-01-23', 1760.50, 1810.00, 1685.00, 1795.25, 1760.50),
        (56, '2024-01-24', 1795.25, 1845.00, 1715.00, 1830.75, 1795.25),
        (56, '2024-01-25', 1830.75, 1880.00, 1745.00, 1865.50, 1830.75),
        (56, '2024-01-26', 1865.50, 1915.00, 1775.00, 1900.25, 1865.50),
        (56, '2024-01-29', 1900.25, 1950.00, 1805.00, 1935.75, 1900.25),
        (56, '2024-01-30', 1935.75, 1985.00, 1835.00, 1970.50, 1935.75),
        (56, '2024-01-31', 1970.50, 2020.00, 1865.00, 2005.25, 1970.50)
    `);

    // Datos para algunos instrumentos más con precios más bajos
    // MOLI (Molinos Río de la Plata) - ID 44
    await queryRunner.query(`
      INSERT INTO marketdata (instrumentId, date, open, high, low, close, previousClose) VALUES
        (44, '2024-01-01', 450.00, 475.00, 440.00, 468.50, 445.00),
        (44, '2024-01-02', 468.50, 490.00, 455.00, 485.25, 468.50),
        (44, '2024-01-03', 485.25, 510.00, 470.00, 505.75, 485.25),
        (44, '2024-01-04', 505.75, 530.00, 485.00, 525.50, 505.75),
        (44, '2024-01-05', 525.50, 550.00, 500.00, 545.25, 525.50),
        (44, '2024-01-08', 545.25, 570.00, 515.00, 565.75, 545.25),
        (44, '2024-01-09', 565.75, 590.00, 530.00, 585.50, 565.75),
        (44, '2024-01-10', 585.50, 610.00, 545.00, 605.25, 585.50),
        (44, '2024-01-11', 605.25, 630.00, 560.00, 625.75, 605.25),
        (44, '2024-01-12', 625.75, 650.00, 575.00, 645.50, 625.75),
        (44, '2024-01-15', 645.50, 670.00, 590.00, 665.25, 645.50),
        (44, '2024-01-16', 665.25, 690.00, 605.00, 685.75, 665.25),
        (44, '2024-01-17', 685.75, 710.00, 620.00, 705.50, 685.75),
        (44, '2024-01-18', 705.50, 730.00, 635.00, 725.25, 705.50),
        (44, '2024-01-19', 725.25, 750.00, 650.00, 745.75, 725.25),
        (44, '2024-01-22', 745.75, 770.00, 665.00, 765.25, 745.75),
        (44, '2024-01-23', 765.25, 790.00, 680.00, 785.50, 765.25),
        (44, '2024-01-24', 785.50, 810.00, 695.00, 805.75, 785.50),
        (44, '2024-01-25', 805.75, 830.00, 710.00, 825.25, 805.75),
        (44, '2024-01-26', 825.25, 850.00, 725.00, 845.50, 825.25),
        (44, '2024-01-29', 845.50, 870.00, 740.00, 865.75, 845.50),
        (44, '2024-01-30', 865.75, 890.00, 755.00, 885.25, 865.75),
        (44, '2024-01-31', 885.25, 910.00, 770.00, 905.50, 885.25)
    `);

    // Datos para algunos instrumentos más con precios más altos
    // TXAR (Ternium Argentina) - ID 54
    await queryRunner.query(`
      INSERT INTO marketdata (instrumentId, date, open, high, low, close, previousClose) VALUES
        (54, '2024-01-01', 2800.00, 2850.00, 2780.00, 2835.50, 2795.00),
        (54, '2024-01-02', 2835.50, 2885.00, 2815.00, 2870.25, 2835.50),
        (54, '2024-01-03', 2870.25, 2920.00, 2850.00, 2905.75, 2870.25),
        (54, '2024-01-04', 2905.75, 2955.00, 2885.00, 2940.50, 2905.75),
        (54, '2024-01-05', 2940.50, 2990.00, 2920.00, 2975.25, 2940.50),
        (54, '2024-01-08', 2975.25, 3025.00, 2955.00, 3010.75, 2975.25),
        (54, '2024-01-09', 3010.75, 3060.00, 2985.00, 3045.50, 3010.75),
        (54, '2024-01-10', 3045.50, 3095.00, 3015.00, 3080.25, 3045.50),
        (54, '2024-01-11', 3080.25, 3130.00, 3045.00, 3115.75, 3080.25),
        (54, '2024-01-12', 3115.75, 3165.00, 3075.00, 3150.50, 3115.75),
        (54, '2024-01-15', 3150.50, 3200.00, 3105.00, 3185.25, 3150.50),
        (54, '2024-01-16', 3185.25, 3235.00, 3135.00, 3220.75, 3185.25),
        (54, '2024-01-17', 3220.75, 3270.00, 3165.00, 3255.50, 3220.75),
        (54, '2024-01-18', 3255.50, 3305.00, 3195.00, 3290.25, 3255.50),
        (54, '2024-01-19', 3290.25, 3340.00, 3225.00, 3325.75, 3290.25),
        (54, '2024-01-22', 3325.75, 3375.00, 3255.00, 3360.50, 3325.75),
        (54, '2024-01-23', 3360.50, 3410.00, 3285.00, 3395.25, 3360.50),
        (54, '2024-01-24', 3395.25, 3445.00, 3315.00, 3430.75, 3395.25),
        (54, '2024-01-25', 3430.75, 3480.00, 3345.00, 3465.50, 3430.75),
        (54, '2024-01-26', 3465.50, 3515.00, 3375.00, 3500.25, 3465.50),
        (54, '2024-01-29', 3500.25, 3550.00, 3405.00, 3535.75, 3500.25),
        (54, '2024-01-30', 3535.75, 3585.00, 3435.00, 3570.50, 3535.75),
        (54, '2024-01-31', 3570.50, 3620.00, 3465.00, 3605.25, 3570.50)
    `);

    // Datos para algunos instrumentos más con precios medios
    // LOMA (Loma Negra) - ID 48
    await queryRunner.query(`
      INSERT INTO marketdata (instrumentId, date, open, high, low, close, previousClose) VALUES
        (48, '2024-01-01', 1200.00, 1250.00, 1180.00, 1235.50, 1195.00),
        (48, '2024-01-02', 1235.50, 1285.00, 1215.00, 1270.25, 1235.50),
        (48, '2024-01-03', 1270.25, 1320.00, 1250.00, 1305.75, 1270.25),
        (48, '2024-01-04', 1305.75, 1355.00, 1285.00, 1340.50, 1305.75),
        (48, '2024-01-05', 1340.50, 1390.00, 1320.00, 1375.25, 1340.50),
        (48, '2024-01-08', 1375.25, 1425.00, 1355.00, 1410.75, 1375.25),
        (48, '2024-01-09', 1410.75, 1460.00, 1385.00, 1445.50, 1410.75),
        (48, '2024-01-10', 1445.50, 1495.00, 1415.00, 1480.25, 1445.50),
        (48, '2024-01-11', 1480.25, 1530.00, 1445.00, 1515.75, 1480.25),
        (48, '2024-01-12', 1515.75, 1565.00, 1475.00, 1550.50, 1515.75),
        (48, '2024-01-15', 1550.50, 1600.00, 1505.00, 1585.25, 1550.50),
        (48, '2024-01-16', 1585.25, 1635.00, 1535.00, 1620.75, 1585.25),
        (48, '2024-01-17', 1620.75, 1670.00, 1565.00, 1655.50, 1620.75),
        (48, '2024-01-18', 1655.50, 1705.00, 1595.00, 1690.25, 1655.50),
        (48, '2024-01-19', 1690.25, 1740.00, 1625.00, 1725.75, 1690.25),
        (48, '2024-01-22', 1725.75, 1775.00, 1655.00, 1760.50, 1725.75),
        (48, '2024-01-23', 1760.50, 1810.00, 1685.00, 1795.25, 1760.50),
        (48, '2024-01-24', 1795.25, 1845.00, 1715.00, 1830.75, 1795.25),
        (48, '2024-01-25', 1830.75, 1880.00, 1745.00, 1865.50, 1830.75),
        (48, '2024-01-26', 1865.50, 1915.00, 1775.00, 1900.25, 1865.50),
        (48, '2024-01-29', 1900.25, 1950.00, 1805.00, 1935.75, 1900.25),
        (48, '2024-01-30', 1935.75, 1985.00, 1835.00, 1970.50, 1935.75),
        (48, '2024-01-31', 1970.50, 2020.00, 1865.00, 2005.25, 1970.50)
    `);
  }

  public async down(queryRunner: QueryRunner): Promise<void> {
    // Eliminar todos los datos de marketdata
    await queryRunner.query(`DELETE FROM marketdata`);
  }
} 